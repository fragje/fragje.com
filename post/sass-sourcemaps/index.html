<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Sass Sourcemaps in Chrome | fragje</title>
    
    <meta name="description" content="I tried it before, Sourmaps sounded amazing, like the future I wanted to have! However, it didn't work for me last time, partly because of Compass, partly because it was at a early stage. Now however, the technology have evolved, I'm past the compass days and Libsass and Gulp are my new best friends.">
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Web fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,200italic,300italic,400italic,600italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/assets/css/style.css">
    <script src="/assets/js/modernizr.min.js"></script>

  </head>
  <body>
    <div class="page">
      <div class="constrained">  
        <div class="page-header">
          <nav role="navigation" class="nav-main">
            <ul class="list-reset list-horizontal">
              <li><a class="active" href="/">Blog</a></li>
              <!-- <li><a href="#">Archive</a></li> -->
              <li><a  href="/talking-about-himself.html">About</a></li>
            </ul>
          </nav>
          <h1 class="logo"><a href="/"><span class="visuallyhidden">fragje</span></a></h1>
          <a href="#" class="toggle-nav">Menu</a>
        </div> <!-- Header -->
        <div role="main" class="main-content">
          <article>
  <h1 class="title-main">Sass Sourcemaps in Chrome</h1>
  <p class="posted">21 Mar 2015</p>

  <div class="post">
    <p>When I first saw Paul Irish <a href="https://youtu.be/x6qe_kVaBpg?t=6m28s">demo Sass sourcmaps</a> back in 2013, I was excited to see how easily he worked with styles within Chrome. No need for switching back and forth between a text editor and the browser anymore!</p>

<h2 id="sass-inside-chrome">Sass inside Chrome</h2>
<p>When writing Sass in a modular way, there will be quite a few Sass files with little code in each file. This is good for organizing code, but it can sometimes be hard to find which file specific styles are written in. Especially in a large code base, or if you are new to a project. </p>

<p>With sourcemaps we inspect DOM elements as usual, but it will refere to a <em>.scss</em> instead of a compiled <em>.css</em> file. This is where the code actually lives.</p>

<figure>
    <img src="/assets/img/content/chrome-sourcemap-reference.png" alt="Sass sourcemap reference in Chrome" />
    <figcaption>When we inspect a element on the page, we get a reference to which file and line number the styles where written.</figcaption>
</figure>

<h2 id="develop-inside-chrome">Develop inside Chrome</h2>
<p>Now that we know which file our style live, we can open it up in any text editor, do the change and then come back to Chrome. </p>

<p>But the nice thing about sourcemaps is you don’t need to do that. Instead of leaving Chrome we could rather click on the referenced file. It would open up inside Chrome, and from here we could modify our styles. No need to open up a text editor.</p>

<figure>
    <img src="/assets/img/content/chrome-sourcemap-source.png" alt="Sass file open in chrome dev tools" />
    <figcaption>Sass files can be modified inside Chrome just like you would in a text editor.</figcaption>
</figure>

<p>I would say this i pretty cool. Easy access to source Sass files, and beeing able to update within the browser!</p>

<p>Sadly all this needs a bit of setup. Let me show how I have setup sourcemaps with libsass in a gulp task.</p>

<h2 id="setting-up-sass-sourcemaps-with-gulp">Setting up Sass Sourcemaps with Gulp</h2>
<p>The outline of our sass task in Gulp is pretty simple:</p>

<ol>
  <li>Select the source sass files</li>
  <li>Initialize sourcemaps</li>
  <li>Process the <em>.scss</em> files to <em>.css</em> with <a href="https://www.npmjs.com/package/gulp-sass">gulp-sass</a> (Libsass)</li>
  <li>Add sourcemaps to our css file</li>
  <li>Store the finished css file</li>
</ol>

<p>If you are new to node.js, there are a few things you need to get up and running. </p>

<h3 id="installing-nodejs-and-node-packages">Installing Node.js and node packages</h3>
<ol>
  <li>We need Node.js, which I recomend installing trought <a href="http://brew.sh/">Homebrew</a>. It can also be installed from the <a href="https://nodejs.org/">Node.js homepage</a>. When installing node.js we’ll get <strong><abbr title="node package manager">npm</abbr></strong> which we will use to install node packages.</li>
  <li>We need a <em>package.json</em> file in our project folder to store all the node plugins we are going to use. A quick way to make this would be to open Terminal in the project root and run <code>$ npm init</code>. You will go trough a few steps, and when finished it’s ready for packages to be installed.</li>
  <li>Three node packages are required for what we are doing. To install these and save them as dependencies, we will run <code>$ npm install gulp gulp-sass gulp-sourcemaps --save-dev</code>.<br />
Dependencies are added to package.json, and the plugins are saved in a new folder called <em>node_modules</em>. (If working with git, it’s a good idea to ignore the <em>node_modules</em> folder.)</li>
</ol>

<h3 id="configure-sass-and-sourcemap-in-gulp">Configure sass and sourcemap in Gulp</h3>
<p>Now that we have the tools, next step is to create a task in Gulp.</p>

<ol>
  <li>Create a new file called <em>gulpfile.js</em> in same folder as <em>package.json</em> lives.</li>
  <li>Inside <em>gulpfile.js</em>, require the installed node packages at top.</li>
  <li>Add a new task called <em>sass</em>. This task will do what is <a href="#setting-up-sass-sourcemaps-in-gulp">outlined earlier</a>, and this is how the file will look like:</li>
</ol>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Require node packages</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="nx">sass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-sass&#39;</span><span class="p">),</span>
    <span class="nx">sourcemaps</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-sourcemaps&#39;</span><span class="p">),</span>

<span class="c1">// Sass tasks</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./source/sass/*.scss&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">init</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">(</span><span class="nx">errLogToConsole</span><span class="o">:</span> <span class="kc">true</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sourcemaps</span><span class="p">.</span><span class="nx">write</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./build/assets/css&#39;</span><span class="p">))</span>
<span class="p">});</span></code></pre></div>

<p>From the Terminal we can now run <code>$ gulp sass</code>, and well’ll have a compiled <em>css</em> file with sourcemaps inlined.</p>

<p>We can even do a little more, just to make life easier:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Watch task</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;./source/sass/**/*.scss&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">]);</span>
<span class="p">});</span>

<span class="c1">// Default task</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="s1">&#39;watch&#39;</span><span class="p">]);</span></code></pre></div>

<p>The <strong>watch</strong> task will run the <em>sass</em> task whenever a <em>.scss</em> file is saved. The <strong>default</strong> task will run both the <em>sass</em> and <em>watch</em> task. The <em>default</em> task is triggered just by running <code>$ gulp</code> from the Terminal.</p>

<h2 id="enable-sourcemaps-in-chrome">Enable sourcemaps in Chrome</h2>
<p>Now that we have our tasks up and running, there is a few remaining steps we need to do in Chrome. </p>

<p>First off we need to make sure CSS sourcemap is enabled. Head over to Chrome, open up developer tools and then open up settings (gear icon on top right). </p>
<figure>
    <img src="/assets/img/content/chrome-sourcemap-enable.png" alt="Enable sourcemap settings in chrome" />
</figure>

<p>While we are still in the settings, we need to make sure Chrome have access and permission to write to our local files. Select <em>Workspace</em> in the left menu. Click <em>Add folder…</em> and we’ll add the folder our local project folder.</p>
<figure>
    <img src="/assets/img/content/chrome-sourcemap-workspace.png" alt="Enable sourcemap settings in chrome" />
    <figcaption>Note that when adding a folder to Workspace, we'll get asked if we are sure.</figcaption>
</figure>

<p>Now we need to connect our local files. Select <em>sources</em> at the top row. </p>

<ol>
  <li>Open the local project folder we just added to our workspace.</li>
  <li>Right click the main style file in our project and select <em>Map to network resource</em>. </li>
  <li>Select the matching file that is served by the browser.</li>
</ol>
<figure>
    <img src="/assets/img/content/chrome-sourcemap-map-to-network.png" alt="Enable sourcemap settings in chrome" />
</figure>

<p>Well done!</p>

<p>Now when we inspect elements on the page, we will get a reference to the source file as shown earlier. By clicking on the source file (_buttons.scss), or even <em>cmd</em> click on a css property, we will be heading over to <em>Sources</em> and the referenced file will be viewed. Now changes can be done directly from Chrome without needing to open a separate text editor.</p>
<figure>
    <img src="/assets/img/content/chrome-sourcemap-new-styles.png" alt="Enable sourcemap settings in chrome" />
    <figcaption>Working with stylesheets directly inside Chrome developer tools.</figcaption>
</figure>
<p>We can also navigate trough our files in the left column on <em>Sources</em>, or even better: press <em>cmd</em> + <em>p</em> and we have quick access to all files in our workspace.</p>

<h2 id="conclution">Conclution</h2>
<p>Sass sourcemaps are a great tool for improving productivity on a web project. For smaller sites where you know every css line by heart this will maybe not be that useful, but on larger projects and especially when working together on a team I see this as a huge benefit. </p>

<p>I will definently not uninstall my text editor, but I will for sure spend more time doing css work within Chrome. </p>


  </div>
</article>


<aside>
  <h1 class="h2">Comments</h1>
  <div id="disqus_thread"></div>
</aside>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'fragje'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </div> <!-- Main content -->
      </div> <!-- Constrained -->
    </div> <!-- Page -->
    <aside>
      <footer class="page-footer">
        <div class="constrained">
          <h1 class="visuallyhidden">Author information</h1>
          <img class="right-img" src="/assets/img/avatar-frank-gjertsen.png" alt="Frank Gjertsen">
<p class="">I'm Frank Gjertsen, a web designer and front-end developer from Norway. I made my first website in 2005, and have ever since been inspired by the flexibility there is on the internet.</p>
<ul class="list-reset list-sprite social-links">
  <li><a href="https://twitter.com/fragje"><i class="icon icon-twitter"></i>I'm @fragje on Twitter</a></li>
  <li><a href="https://github.com/fragje"><i class="icon icon-github"></i>and I have a GitHub account</a></li>
</ul>
        </div>
      </footer>
    </aside>

    
    <script src="/assets/js/jquery.js"></script>
    <script async src="/assets/js/main.js"></script>
  </body>
</html>
